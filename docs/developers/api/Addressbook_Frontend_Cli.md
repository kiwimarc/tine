# Addressbook_Frontend_Cli  

cli server for addressbook

This class handles cli requests for the addressbook  



## Extend:

Tinebase_Frontend_Cli_Abstract

## Methods

| Name | Description |
|------|-------------|
|[clearUserContactsWithoutUser](#addressbook_frontend_cliclearusercontactswithoutuser)|-d (dry run) e.g. php tine20.php --method=Addressbook.clearUserContactsWithoutUser -d|
|[export](#addressbook_frontend_cliexport)|export contacts csv to STDOUT|
|[exportVCard](#addressbook_frontend_cliexportvcard)|exports contacts as VCARDs / VCF file examples: --method Addressbook.exportVCard -- container_id=CONTAINER_ID filename=/my/export/file.vcf --method Addressbook.exportVCard -- container_id=CONTAINER_ID stdout=1 --method Addressbook.exportVCard -- type=personal|
|[import](#addressbook_frontend_cliimport)|import contacts|
|[importGroupMailingList](#addressbook_frontend_cliimportgroupmailinglist)||
|[importMailList](#addressbook_frontend_cliimportmaillist)|usage: method=Addressbook.importMailList csv=test.csv domain=secondarydomains csv file = "listname","listEmailAdress"|
|[removeAutogeneratedContacts](#addressbook_frontend_cliremoveautogeneratedcontacts)|remove autogenerated contacts|
|[removeSpecialChar](#addressbook_frontend_cliremovespecialchar)||
|[resetAllSyncBackends](#addressbook_frontend_cliresetallsyncbackends)||
|[searchDuplicatesContactByUser](#addressbook_frontend_clisearchduplicatescontactbyuser)|delete duplicate contacts - allowed params: created_by=USER (equals) fields=FIELDS (equals) -d (dry run) e.g. php tine20.php --method=Addressbook.searchDuplicatesContactByUser -d created_by=test fields=n_fileas,adr_one_region|
|[setListRoleIdByName](#addressbook_frontend_clisetlistroleidbyname)||
|[setPrivateGrantForAll](#addressbook_frontend_clisetprivategrantforall)|updates addressbook shared containers: set privateData grant for all!|
|[syncbackends](#addressbook_frontend_clisyncbackends)||
|[updateContactGeodata](#addressbook_frontend_cliupdatecontactgeodata)|update geodata - only updates addresses without geodata for adr_one|

## Inherited methods

| Name | Description |
|------|-------------|
|createContainer|add container|
|createDemoData|create demo data|
|getHelp|echos usage information|
|importegw14|import from egroupware|
|setContainerGrants|set container grants|
|setContainerGrantsReadOnly|setContainerGrantsReadOnly|
|updateImportExportDefinition|update or create import/export definition|



### Addressbook_Frontend_Cli::clearUserContactsWithoutUser  

**Description**

```php
public clearUserContactsWithoutUser (\Zend_Console_Getopt $opts)
```

-d (dry run) e.g. php tine20.php --method=Addressbook.clearUserContactsWithoutUser -d 

 

**Parameters**

* `(\Zend_Console_Getopt) $opts`

**Return Values**

`int`




<hr />


### Addressbook_Frontend_Cli::export  

**Description**

```php
public export (void)
```

export contacts csv to STDOUT 

NOTE: exports contacts in container id 1 by default. id needs to be changed in the code.  
  
//@ param Zend_Console_Getopt $_opts 

**Parameters**

`This function has no parameters.`

**Return Values**

`void`


<hr />


### Addressbook_Frontend_Cli::exportVCard  

**Description**

```php
public exportVCard ( $_opts)
```

exports contacts as VCARDs / VCF file examples: --method Addressbook.exportVCard -- container_id=CONTAINER_ID filename=/my/export/file.vcf --method Addressbook.exportVCard -- container_id=CONTAINER_ID stdout=1 --method Addressbook.exportVCard -- type=personal 

 

**Parameters**

* `() $_opts`

**Return Values**

`bool`




<hr />


### Addressbook_Frontend_Cli::import  

**Description**

```php
public import (\Zend_Console_Getopt $_opts)
```

import contacts 

 

**Parameters**

* `(\Zend_Console_Getopt) $_opts`

**Return Values**

`void`


<hr />


### Addressbook_Frontend_Cli::importGroupMailingList  

**Description**

```php
 importGroupMailingList (void)
```

 

 

**Parameters**

`This function has no parameters.`

**Return Values**

`void`


<hr />


### Addressbook_Frontend_Cli::importMailList  

**Description**

```php
public importMailList (\Zend_Console_Getopt $opts)
```

usage: method=Addressbook.importMailList csv=test.csv domain=secondarydomains csv file = "listname","listEmailAdress" 

 

**Parameters**

* `(\Zend_Console_Getopt) $opts`

**Return Values**

`false`




**Throws Exceptions**


`\Tinebase_Exception_AccessDenied`


`\Tinebase_Exception_InvalidArgument`


<hr />


### Addressbook_Frontend_Cli::removeAutogeneratedContacts  

**Description**

```php
public removeAutogeneratedContacts (\Zend_Console_Getopt $opts)
```

remove autogenerated contacts 

 

**Parameters**

* `(\Zend_Console_Getopt) $opts`

**Return Values**

`void`


**Throws Exceptions**


`\Addressbook_Exception`


`\Tinebase_Exception_InvalidArgument`


<hr />


### Addressbook_Frontend_Cli::removeSpecialChar  

**Description**

```php
 removeSpecialChar (void)
```

 

 

**Parameters**

`This function has no parameters.`

**Return Values**

`void`


<hr />


### Addressbook_Frontend_Cli::resetAllSyncBackends  

**Description**

```php
 resetAllSyncBackends (void)
```

 

 

**Parameters**

`This function has no parameters.`

**Return Values**

`void`


<hr />


### Addressbook_Frontend_Cli::searchDuplicatesContactByUser  

**Description**

```php
public searchDuplicatesContactByUser (\Zend_Console_Getopt $opts)
```

delete duplicate contacts - allowed params: created_by=USER (equals) fields=FIELDS (equals) -d (dry run) e.g. php tine20.php --method=Addressbook.searchDuplicatesContactByUser -d created_by=test fields=n_fileas,adr_one_region 

 

**Parameters**

* `(\Zend_Console_Getopt) $opts`

**Return Values**

`int`




<hr />


### Addressbook_Frontend_Cli::setListRoleIdByName  

**Description**

```php
 setListRoleIdByName (void)
```

 

 

**Parameters**

`This function has no parameters.`

**Return Values**

`void`


<hr />


### Addressbook_Frontend_Cli::setPrivateGrantForAll  

**Description**

```php
public setPrivateGrantForAll (\Zend_Console_Getopt $opts)
```

updates addressbook shared containers: set privateData grant for all! 

TODO generalize: give set of grants and allow to update containers of all models (move to Tinebase) 

**Parameters**

* `(\Zend_Console_Getopt) $opts`

**Return Values**

`void`


**Throws Exceptions**


`\Tinebase_Exception_AccessDenied`


`\Tinebase_Exception_Backend`


`\Tinebase_Exception_InvalidArgument`


`\Tinebase_Exception_NotFound`


`\Tinebase_Exception_SystemGeneric`


<hr />


### Addressbook_Frontend_Cli::syncbackends  

**Description**

```php
 syncbackends (void)
```

 

 

**Parameters**

`This function has no parameters.`

**Return Values**

`void`


<hr />


### Addressbook_Frontend_Cli::updateContactGeodata  

**Description**

```php
public updateContactGeodata (\Zend_Console_Getopt $opts)
```

update geodata - only updates addresses without geodata for adr_one 

opts: "tag" update only contact with tagging  
"containerId" update only contacts in defined container 

**Parameters**

* `(\Zend_Console_Getopt) $opts`

**Return Values**

`void`


**Throws Exceptions**


`\Tinebase_Exception_InvalidArgument`


`\Tinebase_Exception_Record_DefinitionFailure`


`\Tinebase_Exception_Record_Validation`


<hr />

